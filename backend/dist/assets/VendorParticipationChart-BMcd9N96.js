import{r as o,a as l,j as e}from"./index-DMdaza_C.js";import{c as p,p as v,L as m,u as f}from"./HeatLegend-_XpA_JiF.js";import{P as g,b as x}from"./RadarCursor-By3mHsmn.js";import{t as j}from"./animated-CfBO1zgF.js";import"./tslib.es6-CASWML4w.js";const d="https://14.194.111.58:10443";f(j);const V=()=>{const[c,u]=o.useState([]),[s,h]=o.useState("all"),r=o.useRef(null);return o.useEffect(()=>{l.get(`${d}/api/md/vendors`).then(t=>{u(t.data)}).catch(t=>{console.error("Error fetching vendor list:",t)})},[]),o.useLayoutEffect(()=>{r.current&&r.current.dispose();let t=p("vendorParticipationChartDiv",g);return r.current=t,(()=>{let n=`${d}/api/md/vendor-participation`;s!=="all"&&(n+=`?vendorName=${s}`),l.get(n).then(a=>{if(console.log("Vendor Participation Data:",a.data),Array.isArray(a.data)&&a.data.length>0){t.data=a.data;let i=t.series.push(new x);i.dataFields.value="count",i.dataFields.category="status",i.slices.template.tooltipText="{category}: [bold]{value}[/]",i.colors.step=2,t.innerRadius=v(40),t.legend=new m}else console.error("No valid data to display."),t.data=[{status:"No Data Available",count:1}]}).catch(a=>{console.error("Error fetching vendor participation data:",a),t.data=[{status:"Error Fetching Data",count:1}]})})(),()=>{r.current&&r.current.dispose()}},[s]),e.jsxs("div",{children:[e.jsxs("div",{style:{marginBottom:"20px"},children:[e.jsx("label",{htmlFor:"vendorSelect",children:"Select Vendor: "}),e.jsxs("select",{id:"vendorSelect",value:s,onChange:t=>h(t.target.value),children:[e.jsx("option",{value:"all",children:"All Vendors"}),c.map(t=>e.jsx("option",{value:t,children:t},t))]})]}),e.jsx("div",{id:"vendorParticipationChartDiv",style:{width:"100%",height:"500px"}})]})};export{V as default};

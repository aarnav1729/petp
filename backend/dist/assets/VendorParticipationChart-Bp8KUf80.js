import{r as o,a as l,j as e}from"./index-Dzu3uDy9.js";import{c as p,p as v,L as m,u as f}from"./HeatLegend-DDmxH2yg.js";import{P as g,b as x}from"./RadarCursor-BN9-_7QR.js";import{t as j}from"./animated-BFyvDqX3.js";import"./tslib.es6-CASWML4w.js";const d=window.location.origin;f(j);const V=()=>{const[c,u]=o.useState([]),[i,h]=o.useState("all"),r=o.useRef(null);return o.useEffect(()=>{l.get(`${d}/api/md/vendors`).then(t=>{u(t.data)}).catch(t=>{console.error("Error fetching vendor list:",t)})},[]),o.useLayoutEffect(()=>{r.current&&r.current.dispose();let t=p("vendorParticipationChartDiv",g);return r.current=t,(()=>{let n=`${d}/api/md/vendor-participation`;i!=="all"&&(n+=`?vendorName=${i}`),l.get(n).then(a=>{if(console.log("Vendor Participation Data:",a.data),Array.isArray(a.data)&&a.data.length>0){t.data=a.data;let s=t.series.push(new x);s.dataFields.value="count",s.dataFields.category="status",s.slices.template.tooltipText="{category}: [bold]{value}[/]",s.colors.step=2,t.innerRadius=v(40),t.legend=new m}else console.error("No valid data to display."),t.data=[{status:"No Data Available",count:1}]}).catch(a=>{console.error("Error fetching vendor participation data:",a),t.data=[{status:"Error Fetching Data",count:1}]})})(),()=>{r.current&&r.current.dispose()}},[i]),e.jsxs("div",{children:[e.jsxs("div",{style:{marginBottom:"20px"},children:[e.jsx("label",{htmlFor:"vendorSelect",children:"Select Vendor: "}),e.jsxs("select",{id:"vendorSelect",value:i,onChange:t=>h(t.target.value),children:[e.jsx("option",{value:"all",children:"All Vendors"}),c.map(t=>e.jsx("option",{value:t,children:t},t))]})]}),e.jsx("div",{id:"vendorParticipationChartDiv",style:{width:"100%",height:"500px"}})]})};export{V as default};

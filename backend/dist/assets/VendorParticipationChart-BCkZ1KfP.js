import{r as o,a as n,j as e}from"./index-DUDuix1r.js";import{c as u,p,L as v,u as m}from"./HeatLegend-DFPx3BA8.js";import{P as f,b as g}from"./RadarCursor-C2MQGwwc.js";import{t as x}from"./animated-RZbJGGd2.js";import"./tslib.es6-CASWML4w.js";m(x);const P=()=>{const[c,d]=o.useState([]),[s,h]=o.useState("all"),r=o.useRef(null);return o.useEffect(()=>{n.get("http://localhost:5000/api/md/vendors").then(t=>{d(t.data)}).catch(t=>{console.error("Error fetching vendor list:",t)})},[]),o.useLayoutEffect(()=>{r.current&&r.current.dispose();let t=u("vendorParticipationChartDiv",f);return r.current=t,(()=>{let l="http://localhost:5000/api/md/vendor-participation";s!=="all"&&(l+=`?vendorName=${s}`),n.get(l).then(a=>{if(console.log("Vendor Participation Data:",a.data),Array.isArray(a.data)&&a.data.length>0){t.data=a.data;let i=t.series.push(new g);i.dataFields.value="count",i.dataFields.category="status",i.slices.template.tooltipText="{category}: [bold]{value}[/]",i.colors.step=2,t.innerRadius=p(40),t.legend=new v}else console.error("No valid data to display."),t.data=[{status:"No Data Available",count:1}]}).catch(a=>{console.error("Error fetching vendor participation data:",a),t.data=[{status:"Error Fetching Data",count:1}]})})(),()=>{r.current&&r.current.dispose()}},[s]),e.jsxs("div",{children:[e.jsxs("div",{style:{marginBottom:"20px"},children:[e.jsx("label",{htmlFor:"vendorSelect",children:"Select Vendor: "}),e.jsxs("select",{id:"vendorSelect",value:s,onChange:t=>h(t.target.value),children:[e.jsx("option",{value:"all",children:"All Vendors"}),c.map(t=>e.jsx("option",{value:t,children:t},t))]})]}),e.jsx("div",{id:"vendorParticipationChartDiv",style:{width:"100%",height:"500px"}})]})};export{P as default};

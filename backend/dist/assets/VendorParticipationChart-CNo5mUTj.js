import{r as o,a as l,j as t}from"./index-N56FV2AJ.js";import{c as h,p,L as m,u as v}from"./HeatLegend-DKuT8zDd.js";import{P as f,b as g}from"./RadarCursor-BX6L5vRd.js";import{t as x}from"./animated-D_ewqot9.js";import"./tslib.es6-CASWML4w.js";v(x);const P=()=>{const[d,c]=o.useState([]),[s,u]=o.useState("all"),r=o.useRef(null);return o.useEffect(()=>{l.get("https://leaf-tn20.onrender.com/api/md/vendors").then(e=>{c(e.data)}).catch(e=>{console.error("Error fetching vendor list:",e)})},[]),o.useLayoutEffect(()=>{r.current&&r.current.dispose();let e=h("vendorParticipationChartDiv",f);return r.current=e,(()=>{let n="https://leaf-tn20.onrender.com/api/md/vendor-participation";s!=="all"&&(n+=`?vendorName=${s}`),l.get(n).then(a=>{if(console.log("Vendor Participation Data:",a.data),Array.isArray(a.data)&&a.data.length>0){e.data=a.data;let i=e.series.push(new g);i.dataFields.value="count",i.dataFields.category="status",i.slices.template.tooltipText="{category}: [bold]{value}[/]",i.colors.step=2,e.innerRadius=p(40),e.legend=new m}else console.error("No valid data to display."),e.data=[{status:"No Data Available",count:1}]}).catch(a=>{console.error("Error fetching vendor participation data:",a),e.data=[{status:"Error Fetching Data",count:1}]})})(),()=>{r.current&&r.current.dispose()}},[s]),t.jsxs("div",{children:[t.jsxs("div",{style:{marginBottom:"20px"},children:[t.jsx("label",{htmlFor:"vendorSelect",children:"Select Vendor: "}),t.jsxs("select",{id:"vendorSelect",value:s,onChange:e=>u(e.target.value),children:[t.jsx("option",{value:"all",children:"All Vendors"}),d.map(e=>t.jsx("option",{value:e,children:e},e))]})]}),t.jsx("div",{id:"vendorParticipationChartDiv",style:{width:"100%",height:"500px"}})]})};export{P as default};

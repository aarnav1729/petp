import{r as be,a as xe,j as X}from"./index-N56FV2AJ.js";import{E as ie,G as T,L as S,T as F,m as C,e as L,i as U,R as ve,c as _e,D as ke,a as $,b as ye,A as we,d as q,f as ee}from"./AnimatedTheme-B_HNjjdc.js";import{X as se,a as Pe,V as te,A as Fe,b as Te}from"./AxisRendererY-Cm5Qepqo.js";import{w as ne,c as m}from"./path-CXeFd1JH.js";import"./tslib.es6-CASWML4w.js";class G extends ie{constructor(){super(...arguments),Object.defineProperty(this,"_index",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"series",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_afterNew(){super._afterNewApplyThemes()}_beforeChanged(){if(super._beforeChanged(),this.isDirty("sprite")){const e=this.get("sprite");e&&(e.setAll({position:"absolute",role:"figure"}),this._disposers.push(e))}(this.isDirty("locationX")||this.isDirty("locationY"))&&this.series&&this.series._positionBullet(this)}}Object.defineProperty(G,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Bullet"});Object.defineProperty(G,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:ie.classNames.concat([G.className])});class I extends T{_afterNew(){super._afterNew(),this._display.isMeasured=!0,this.setPrivateRaw("trustBounds",!0)}_beforeChanged(){super._beforeChanged(),this.isDirty("radius")&&(this._clear=!0)}_changed(){super._changed(),this._clear&&this._display.drawCircle(0,0,Math.abs(this.get("radius",10)))}}Object.defineProperty(I,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Circle"});Object.defineProperty(I,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:T.classNames.concat([I.className])});function le(s){return typeof s=="object"&&"length"in s?s:Array.from(s)}function re(s){this._context=s}re.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(s,e){switch(s=+s,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(s,e):this._context.moveTo(s,e);break;case 1:this._point=2;default:this._context.lineTo(s,e);break}}};function ae(s){return new re(s)}function oe(s){return s[0]}function ue(s){return s[1]}function ce(s,e){var t=m(!0),l=null,u=ae,h=null,f=ne(a);s=typeof s=="function"?s:s===void 0?oe:m(s),e=typeof e=="function"?e:e===void 0?ue:m(e);function a(o){var n,r=(o=le(o)).length,i,c=!1,p;for(l==null&&(h=u(p=f())),n=0;n<=r;++n)!(n<r&&t(i=o[n],n,o))===c&&((c=!c)?h.lineStart():h.lineEnd()),c&&h.point(+s(i,n,o),+e(i,n,o));if(p)return h=null,p+""||null}return a.x=function(o){return arguments.length?(s=typeof o=="function"?o:m(+o),a):s},a.y=function(o){return arguments.length?(e=typeof o=="function"?o:m(+o),a):e},a.defined=function(o){return arguments.length?(t=typeof o=="function"?o:m(!!o),a):t},a.curve=function(o){return arguments.length?(u=o,l!=null&&(h=u(l)),a):u},a.context=function(o){return arguments.length?(o==null?l=h=null:h=u(l=o),a):l},a}function Ae(s,e,t){var l=null,u=m(!0),h=null,f=ae,a=null,o=ne(n);s=typeof s=="function"?s:s===void 0?oe:m(+s),e=typeof e=="function"?e:e===void 0?m(0):m(+e),t=typeof t=="function"?t:t===void 0?ue:m(+t);function n(i){var c,p,g,_=(i=le(i)).length,x,v=!1,k,A=new Array(_),D=new Array(_);for(h==null&&(a=f(k=o())),c=0;c<=_;++c){if(!(c<_&&u(x=i[c],c,i))===v)if(v=!v)p=c,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),g=c-1;g>=p;--g)a.point(A[g],D[g]);a.lineEnd(),a.areaEnd()}v&&(A[c]=+s(x,c,i),D[c]=+e(x,c,i),a.point(l?+l(x,c,i):A[c],t?+t(x,c,i):D[c]))}if(k)return a=null,k+""||null}function r(){return ce().defined(u).curve(f).context(h)}return n.x=function(i){return arguments.length?(s=typeof i=="function"?i:m(+i),l=null,n):s},n.x0=function(i){return arguments.length?(s=typeof i=="function"?i:m(+i),n):s},n.x1=function(i){return arguments.length?(l=i==null?null:typeof i=="function"?i:m(+i),n):l},n.y=function(i){return arguments.length?(e=typeof i=="function"?i:m(+i),t=null,n):e},n.y0=function(i){return arguments.length?(e=typeof i=="function"?i:m(+i),n):e},n.y1=function(i){return arguments.length?(t=i==null?null:typeof i=="function"?i:m(+i),n):t},n.lineX0=n.lineY0=function(){return r().x(s).y(e)},n.lineY1=function(){return r().x(s).y(t)},n.lineX1=function(){return r().x(l).y(e)},n.defined=function(i){return arguments.length?(u=typeof i=="function"?i:m(!!i),n):u},n.curve=function(i){return arguments.length?(f=i,h!=null&&(a=f(h)),n):f},n.context=function(i){return arguments.length?(i==null?h=a=null:a=f(h=i),n):h},n}class R extends se{constructor(){super(...arguments),Object.defineProperty(this,"_endIndex",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_strokeGenerator",{enumerable:!0,configurable:!0,writable:!0,value:ce()}),Object.defineProperty(this,"_fillGenerator",{enumerable:!0,configurable:!0,writable:!0,value:Ae()}),Object.defineProperty(this,"_legendStroke",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_legendFill",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"strokes",{enumerable:!0,configurable:!0,writable:!0,value:this.addDisposer(new S(F.new({}),()=>T._new(this._root,{themeTags:C(this.strokes.template.get("themeTags",[]),["line","series","stroke"])},[this.strokes.template])))}),Object.defineProperty(this,"fills",{enumerable:!0,configurable:!0,writable:!0,value:this.addDisposer(new S(F.new({}),()=>T._new(this._root,{themeTags:C(this.strokes.template.get("themeTags",[]),["line","series","fill"])},[this.fills.template])))}),Object.defineProperty(this,"_fillTemplate",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_strokeTemplate",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_previousPoint",{enumerable:!0,configurable:!0,writable:!0,value:[0,0,0,0]}),Object.defineProperty(this,"_dindex",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_sindex",{enumerable:!0,configurable:!0,writable:!0,value:0})}_afterNew(){this._fillGenerator.y0(function(e){return e[3]}),this._fillGenerator.x0(function(e){return e[2]}),this._fillGenerator.y1(function(e){return e[1]}),this._fillGenerator.x1(function(e){return e[0]}),super._afterNew()}makeStroke(e){const t=this.mainContainer.children.push(e.make());return e.push(t),t}makeFill(e){const t=this.mainContainer.children.push(e.make());return e.push(t),t}_updateChildren(){this._strokeTemplate=void 0,this._fillTemplate=void 0;let e=this.get("xAxis"),t=this.get("yAxis");if(this.isDirty("stroke")){const l=this.get("stroke");this.strokes.template.set("stroke",l);const u=this._legendStroke;u&&u.states.lookup("default").set("stroke",l)}if(this.isDirty("fill")){const l=this.get("fill");this.fills.template.set("fill",l);const u=this._legendFill;u&&u.states.lookup("default").set("fill",l)}if(this.isDirty("fillPattern")){const l=this.get("fillPattern");this.fills.template.set("fillPattern",l);const u=this._legendFill;u&&u.states.lookup("default").set("fillPattern",l)}if(this.isDirty("curveFactory")){const l=this.get("curveFactory");l&&(this._strokeGenerator.curve(l),this._fillGenerator.curve(l))}if(e.inited&&t.inited){if(this._axesDirty||this._valuesDirty||this._stackDirty||this.isDirty("vcx")||this.isDirty("vcy")||this._sizeDirty||this.isDirty("connect")||this.isDirty("curveFactory")){this.fills.each(r=>{r.setPrivate("visible",!1)}),this.strokes.each(r=>{r.setPrivate("visible",!1)}),this.axisRanges.each(r=>{let i=r.fills;i&&i.each(p=>{p.setPrivate("visible",!1)});let c=r.strokes;c&&c.each(p=>{p.setPrivate("visible",!1)})});let l=this.startIndex(),u=this.strokes.template.get("templateField"),h=this.fills.template.get("templateField"),f=!0,a=!0;u&&(f=!1),h&&(a=!1);for(let r=l-1;r>=0;r--){let i=this.dataItems[r],c=!0,p=i.dataContext;if(u&&p[u]&&(f=!0),h&&p[h]&&(a=!0),L(this._valueFields,g=>{$(i.get(g))||(c=!1)}),c&&f&&a){l=r;break}}let o=this.dataItems.length,n=this.endIndex();if(n<o){n++;for(let r=n;r<o;r++){let i=this.dataItems[r],c=!0;if(L(this._valueFields,p=>{$(i.get(p))||(c=!1)}),c){n=r+1;break}}}if(l>0&&l--,this._endIndex=n,this._clearGraphics(),this._sindex=0,this._dindex=l,this.dataItems.length==1)this._startSegment(0);else for(;this._dindex<n-1;)this._startSegment(this._dindex),this._sindex++}}else this._skipped=!0;super._updateChildren()}_clearGraphics(){this.strokes.clear(),this.fills.clear(),this.axisRanges.each(e=>{e.fills.clear(),e.strokes.clear()})}_startSegment(e){let t=this._endIndex,l=t;const u=this.get("autoGapCount"),h=this.get("connect"),f=this.makeFill(this.fills),a=this._fillTemplate,o=this.fills.template;a&&a!=o&&(f.template=a),f.setPrivate("visible",!0);const n=this.makeStroke(this.strokes),r=this._strokeTemplate;r&&r!=this.strokes.template&&(n.template=r),n.setPrivate("visible",!0);let i=this.get("xAxis"),c=this.get("yAxis"),p=this.get("baseAxis"),g=this.get("vcx",1),_=this.get("vcy",1),x=this._xField,v=this._yField,k=this._xOpenField,A=this._yOpenField;const D=this.get("openValueXField"),z=this.get("openValueYField");D||(k=this._xField),z||(A=this._yField);const B=this.get("stacked"),fe=i.basePosition(),he=c.basePosition();let E;p===c?E=this._yField:E=this._xField;const w=[];let P=[];w.push(P);const H=this.strokes.template.get("templateField"),Q=this.fills.template.get("templateField");let W=this.get("locationX",.5),Z=this.get("locationY",.5),pe=this.get("openLocationX",W),de=this.get("openLocationY",Z);const me=this.get("minDistance",0);let b,J=this.fills.template.get("visible");this.axisRanges.length>0&&(J=!0);let K=!1;(B||D||z)&&(K=!0);const V={points:P,segments:w,stacked:B,getOpen:K,basePosX:fe,basePosY:he,fillVisible:J,xField:x,yField:v,xOpenField:k,yOpenField:A,vcx:g,vcy:_,baseAxis:p,xAxis:i,yAxis:c,locationX:W,locationY:Z,openLocationX:pe,openLocationY:de,minDistance:me};let Y=this._strokeTemplate,j=this._fillTemplate;for(b=e;b<l;b++){this._dindex=b;const y=this._dataItems[b];let O=y.get(x),M=y.get(v);if(O==null||M==null?h||(P=[],w.push(P),V.points=P):this._getPoints(y,V),H){let d=y.dataContext[H];if(d)if(d instanceof F||(d=F.new(d)),this._strokeTemplate=d,b>e){l=b;break}else Y=d,n.template=d}if(Q){let d=y.dataContext[Q];if(d)if(d instanceof F||(d=F.new(d)),this._fillTemplate=d,b>e){l=b;break}else j=d,f.template=d}if(!h){let d=this.dataItems[b+1];d&&p.shouldGap(y,d,u,E)&&(P=[],w.push(P),V.points=P)}}f.setRaw("userData",[e,b]),n.setRaw("userData",[e,b]),b===t&&this._endLine(P,w[0][0]),n&&this._drawStroke(n,w),f&&this._drawFill(f,w),this.axisRanges.each(y=>{const O=y.container,M=y.fills,d=this.makeFill(M);O&&O.children.push(d),d.setPrivate("visible",!0),this._drawFill(d,w);const ge=y.strokes,N=this.makeStroke(ge);O&&O.children.push(N),Y&&Y!=this.strokes.template&&(N.template=Y),j&&j!=this.fills.template&&(d.template=j),N.setPrivate("visible",!0),this._drawStroke(N,w),d.setRaw("userData",[e,b]),N.setRaw("userData",[e,b])})}_getPoints(e,t){let l=t.points,u=e.get("locationX",t.locationX),h=e.get("locationY",t.locationY),f=t.xAxis.getDataItemPositionX(e,t.xField,u,t.vcx),a=t.yAxis.getDataItemPositionY(e,t.yField,h,t.vcy);if(this._shouldInclude(f)){const o=this.getPoint(f,a),n=[o.x,o.y];if(o.x+=this._x,o.y+=this._y,e.set("point",o),t.fillVisible){let r=f,i=a;if(t.baseAxis===t.xAxis?i=t.basePosY:t.baseAxis===t.yAxis&&(r=t.basePosX),t.getOpen){let p=e.get(t.xOpenField),g=e.get(t.yOpenField);if(p!=null&&g!=null){let _=e.get("openLocationX",t.openLocationX),x=e.get("openLocationY",t.openLocationY);if(t.stacked){let v=e.get("stackToItemX"),k=e.get("stackToItemY");v?(r=t.xAxis.getDataItemPositionX(v,t.xField,_,v.component.get("vcx")),U(r)&&(r=t.basePosX)):t.yAxis===t.baseAxis?r=t.basePosX:r=t.xAxis.getDataItemPositionX(e,t.xOpenField,_,t.vcx),k?(i=t.yAxis.getDataItemPositionY(k,t.yField,x,k.component.get("vcy")),U(i)&&(i=t.basePosY)):t.xAxis===t.baseAxis?i=t.basePosY:i=t.yAxis.getDataItemPositionY(e,t.yOpenField,x,t.vcy)}else r=t.xAxis.getDataItemPositionX(e,t.xOpenField,_,t.vcx),i=t.yAxis.getDataItemPositionY(e,t.yOpenField,x,t.vcy)}}let c=this.getPoint(r,i);n[2]=c.x,n[3]=c.y}if(t.minDistance>0){const r=n[0],i=n[1],c=n[2],p=n[3],g=this._previousPoint,_=g[0],x=g[1],v=g[2],k=g[3];(Math.hypot(r-_,i-x)>t.minDistance||c&&p&&Math.hypot(c-v,p-k)>t.minDistance)&&(l.push(n),this._previousPoint=n)}else l.push(n)}}_endLine(e,t){}_drawStroke(e,t){e.get("visible")&&!e.get("forceHidden")&&e.set("draw",l=>{L(t,u=>{this._strokeGenerator.context(l),this._strokeGenerator(u)})})}_drawFill(e,t){e.get("visible")&&!e.get("forceHidden")&&e.set("draw",l=>{L(t,u=>{this._fillGenerator.context(l),this._fillGenerator(u)})})}_processAxisRange(e){super._processAxisRange(e),e.fills=new S(F.new({}),()=>T._new(this._root,{themeTags:C(e.fills.template.get("themeTags",[]),["line","series","fill"])},[this.fills.template,e.fills.template])),e.strokes=new S(F.new({}),()=>T._new(this._root,{themeTags:C(e.strokes.template.get("themeTags",[]),["line","series","stroke"])},[this.strokes.template,e.strokes.template]))}createLegendMarker(e){const t=this.get("legendDataItem");if(t){const l=t.get("marker"),u=t.get("markerRectangle");u&&u.setPrivate("visible",!1),l.set("background",ve.new(l._root,{fillOpacity:0,fill:_e(0)}));const h=l.children.push(T._new(l._root,{themeTags:["line","series","legend","marker","stroke"],interactive:!1},[this.strokes.template]));this._legendStroke=h;const f=l.children.push(T._new(l._root,{themeTags:["line","series","legend","marker","fill"]},[this.fills.template]));this._legendFill=f;const a=this._root.interfaceColors.get("disabled");if(h.states.create("disabled",{fill:a,stroke:a}),f.states.create("disabled",{fill:a,stroke:a}),this.bullets.length>0){const o=this.bullets.getIndex(0);if(o){const n=o(l._root,this,new ke(this,{legend:!0},{}));if(n){const r=n.get("sprite");r instanceof T&&r.states.create("disabled",{fill:a,stroke:a}),r&&(r.set("tooltipText",void 0),r.set("tooltipHTML",void 0),l.children.push(r),r.setAll({x:l.width()/2,y:l.height()/2}),l.events.on("boundschanged",()=>{r.setAll({x:l.width()/2,y:l.height()/2})}))}}}}}}Object.defineProperty(R,"className",{enumerable:!0,configurable:!0,writable:!0,value:"LineSeries"});Object.defineProperty(R,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:se.classNames.concat([R.className])});const je=()=>(be.useEffect(()=>{const s=ye.new("chartdiv");s.setThemes([we.new(s)]);const e=s.container.children.push(Pe.new(s,{panX:!0,panY:!0,wheelY:"zoomXY",pinchZoomX:!0,pinchZoomY:!0})),t=e.yAxes.push(te.new(s,{renderer:Fe.new(s,{minGridDistance:30}),title:ee.new(s,{text:"Number of Trucks",fontWeight:"bold"}),min:0,max:50,strictMinMax:!0,tooltip:q.new(s,{})})),l=e.xAxes.push(te.new(s,{renderer:Te.new(s,{minGridDistance:50}),title:ee.new(s,{text:"Price (in INR)",fontWeight:"bold"}),numberFormat:"#,###",min:0,max:25e4,strictMinMax:!0,tooltip:q.new(s,{})})),u=e.series.push(R.new(s,{xAxis:l,yAxis:t,valueYField:"numberOfTrucks",valueXField:"price",tooltip:q.new(s,{labelText:`Company: {companyName}
RFQ Number: {rfqNumber}
Price: {valueX.formatNumber("#,###")}
Trucks: {valueY.formatNumber("#")}`})}));u.strokes.template.set("visible",!1);const h=F.new({});return u.bullets.push(()=>{const f=I.new(s,{radius:5,fill:u.get("fill"),fillOpacity:.8,tooltipText:`Vendor: {companyName}
Price: {valueX.formatNumber("#,###")}
Trucks: {valueY.formatNumber("#")}`},h);return f.states.create("hover",{fill:e.get("colors").getIndex(4)}),G.new(s,{sprite:f})}),u.set("heatRules",[{target:h,min:5,max:15,dataField:"value",key:"radius"}]),xe.get("https://leaf-tn20.onrender.com/api/quotes").then(f=>{const a=f.data.map(o=>({price:o.price,numberOfTrucks:o.numberOfTrucks,companyName:o.vendorName,rfqNumber:o.rfqNumber}));u.data.setAll(a)}).catch(f=>{console.error("Error fetching quotes data:",f)}),e.appear(1e3,100),()=>{s.dispose()}},[]),X.jsxs("div",{children:[X.jsx("div",{id:"chartdiv",style:{width:"100%",height:"500px"}}),X.jsx("div",{style:{textAlign:"center",marginTop:"20px",fontSize:"1rem"},children:X.jsxs("p",{children:[X.jsx("strong",{children:"Insights:"})," This chart displays the quotes and the number of trucks offered by each vendor for different RFQs. The x-axis represents the price quoted (in INR), while the y-axis shows the number of trucks each company offered. By analyzing this chart, you can quickly identify the companies offering the most competitive prices and the number of trucks they can supply, providing valuable insight into vendor competitiveness and capacity."]})})]}));export{je as default};
